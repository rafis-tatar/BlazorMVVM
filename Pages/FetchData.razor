@page "/fetchdata"

@using BlazorMVVM.Data
@using BlazorMVVM.Pages.Models
@using BlazorMVVM.Pages.Components;
@inject WeatherForecastService ForecastService

<h1>Weather forecast</h1>

<p>This component demonstrates fetching data from a service.</p>
<ForecastTableComponent DataContext="@ViewModel"></ForecastTableComponent>

@code {

    WeatherModel ViewModel {get;} = new();
    protected override async Task OnInitializedAsync()
    {
        await Task.Delay(1000);
        ViewModel.Forecasts = await ForecastService.GetForecastAsync(DateTime.Now);
    }
}
